<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nocturna UI v0.0.6 - CDN Ritual</title>

    <link rel="stylesheet" href="../../dist/style.css" />

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/framer-motion@11/dist/framer-motion.js"></script>

    <script src="../../dist/index.umd.js"></script>

    <style>
      /* Reset Básico para o Demo */
      body {
        background-color: #050505; /* Abyss Black */
        color: #fff;
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: 0;
      }
      .layout-container {
        width: 100%;
        max-width: 500px;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }
      .code-block {
        background: #09090b;
        padding: 1rem;
        border: 1px solid #27272a;
        font-family: monospace;
        font-size: 0.8rem;
        color: #00ff41; /* Secondary (Malware Green) */
        margin-top: 1rem;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script>
      // 1. Desconstrução da API Global
      // Na v0.0.6, usamos nomes diretos: Button, Card, etc.
      const { Button, Card, Separator, ToastProvider, Badge } = window.NocturnaUI;

      const React = window.React;
      const ReactDOM = window.ReactDOM;

      // 2. Componente da Aplicação (Sem JSX)
      function App() {
        // Função para disparar o Toast usando a Bridge Global
        const summonToast = () => {
          if (window.NocturnaUI.toaster) {
            window.NocturnaUI.toaster.toast({
              title: "Sistema Conectado",
              description: "Acesso via CDN estabelecido com sucesso.",
              variant: "secondary", // Verde Neon
              type: "success",
              duration: 4000,
            });
          } else {
            alert("Erro: O Provider ainda não inicializou a bridge.");
          }
        };

        return React.createElement(
          "div",
          { className: "layout-container" },

          // Cabeçalho
          React.createElement(
            "div",
            { style: { textAlign: "center" } },
            React.createElement(
              "h1",
              {
                style: {
                  fontSize: "2.25rem",
                  lineHeight: "2.5rem",
                  fontFamily: "Playfair Display, Georgia, serif",
                  textTransform: "uppercase",
                  letterSpacing: "-0.05em",
                  marginBottom: "0.5rem",
                },
              },
              "Nocturna CDN",
            ),
            React.createElement(
              Badge,
              // Usando a nova paleta Accent (Rosa)
              { variant: "accent", styleType: "outline" },
              "v0.0.6 • Cyber Goth",
            ),
          ),

          React.createElement(Separator, { label: "♱", variant: "primary" }),

          // Card de Demonstração
          React.createElement(
            Card,
            {
              title: "Ambiente Vanilla",
              variant: "primary",
            },
            React.createElement(
              "p",
              { style: { color: "#a1a1aa", marginBottom: "1.5rem" } },
              "Este exemplo roda React puro, carregando os componentes via script UMD sem compiladores.",
            ),
            React.createElement(
              Button,
              {
                variant: "accent", // Botão Rosa Neon
                onClick: summonToast,
                style: { width: "100%" },
              },
              "Executar Protocolo",
            ),
            // Exibição de código para instrução
            React.createElement(
              "div",
              { className: "code-block" },
              "window.NocturnaUI.toaster.toast({ type: 'success' })",
            ),
          ),
        );
      }

      // 3. Inicialização
      const rootElement = document.getElementById("root");
      const root = ReactDOM.createRoot(rootElement);

      // OBRIGATÓRIO: ToastProvider na raiz para o sistema de notificações funcionar
      root.render(React.createElement(ToastProvider, null, React.createElement(App)));
    </script>
  </body>
</html>
